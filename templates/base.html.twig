<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>{% block title %}Welcome!{% endblock %}</title>
        {% block stylesheets %}
			<link rel="stylesheet" type="text/css" href="{{ asset('css/foundation.min.css') }}">
            <link rel="stylesheet" href="{{ asset('css/chosen.min.css') }}" type="text/css">
            <link rel="stylesheet" href="{{ asset('css/styles.css') }}" type="text/css">
            <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
            <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">
        {% endblock %}
    </head>
    <body>
        <header>
            {% include 'header.html.twig' %}
        </header>
        {% block body %}{% endblock %}
        {% block javascripts %}

			<script src="{{ asset('js/vendor/foundation.min.js') }}"></script>
			<script src="{{ asset('js/vendor/jquery.js') }}"></script>
			<script src="{{ asset('js/vendor/what-input.js') }}"></script>
            <script src="{{ asset('js/vendor/chosen.jquery.min.js') }}"></script>
            <script src="{{ asset('js/vendor/chosen.proto.min.js') }}"></script>
            <script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
            <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

            <script>
                $( function() {
                    $(".datepicker").datepicker();
                } );
            </script>
            <script>
                $('.timepicker').timepicker({
                    timeFormat: 'h:mm p',
                    interval: 60,
                    minTime: '6',
                    maxTime: '6:00pm',
                    defaultTime: '6',
                    startTime: '6:00',
                    dynamic: false,
                    dropdown: true,
                    scrollbar: true
                });
            </script>
            <script>
                $(".chosen-select").chosen();
            </script>
            <script>
    var $collectionHolder;

    // setup an "add a tag" link
    var $addTagButton = $('<button type="button" class="add_doctor_link button primary">Add a doctor</button>');
    var $newLinkLi = $('<li></li>').append($addTagButton);

    jQuery(document).ready(function() {
        // Get the ul that holds the collection of tags
        $collectionHolder = $('ul.doctors');

        // add the "add a tag" anchor and li to the tags ul
        $collectionHolder.append($newLinkLi);

        // count the current form inputs we have (e.g. 2), use that as the new
        // index when inserting a new item (e.g. 2)
        $collectionHolder.data('index', $collectionHolder.find(':input').length);

        $addTagButton.on('click', function(e) {
            // add a new tag form (see next code block)
            addDoctorForm($collectionHolder, $newLinkLi);
        });
    });

function addDoctorForm($collectionHolder, $newLinkLi) {
    // Get the data-prototype explained earlier
    var prototype = $collectionHolder.data('prototype');

    // get the new index
    var index = $collectionHolder.data('index');

    var newForm = prototype;
    // You need this only if you didn't set 'label' => false in your tags field in TaskType
    // Replace '__name__label__' in the prototype's HTML to
    // instead be a number based on how many items we have
    // newForm = newForm.replace(/__name__label__/g, index);

    // Replace '__name__' in the prototype's HTML to
    // instead be a number based on how many items we have
    newForm = newForm.replace(/__name__/g, index);

    // increase the index with one for the next item
    $collectionHolder.data('index', index + 1);

    // Display the form in the page in an li, before the "Add a tag" link li
    var $newFormLi = $('<li></li>').append(newForm);
    $newLinkLi.before($newFormLi);
}
</script>
        {% endblock %}
    </body>
</html>
